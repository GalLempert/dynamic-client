<div class="h-screen flex flex-col bg-gray-100">
  <div class="p-6 max-w-5xl w-full m-auto">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl text-gray-800">Resource Explorer</h1>
      <a routerLink="/admin" class="btn btn-secondary text-sm">Configure</a>
    </div>

    <!-- Search Bar -->
    <div class="flex gap-4 mb-6 p-4 bg-white rounded shadow items-center">
      <div class="flex-col">
          <label class="text-gray-500 text-xs font-bold mb-1 block">RESOURCE TYPE</label>
          <select [(ngModel)]="selectedResource" class="input bg-white" style="min-width: 150px;">
            <option *ngFor="let r of resources" [value]="r.name">{{ r.name }}</option>
          </select>
      </div>
      <div class="flex-grow flex-col">
          <label class="text-gray-500 text-xs font-bold mb-1 block">SEARCH TERM</label>
          <input [(ngModel)]="searchTerm" placeholder="Search by name, category..." class="input" (keyup.enter)="search()">
      </div>
      <div class="flex-col" style="margin-top: 1.25rem;">
          <button (click)="search()" class="btn btn-primary" [disabled]="loading">
            {{ loading ? 'Searching...' : 'Search' }}
          </button>
      </div>
    </div>

    <!-- Results Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div *ngIf="!loading && results.length === 0 && searchTerm" class="text-center text-gray-500 py-10">
        No results found for "{{ searchTerm }}".
      </div>

      <div *ngFor="let item of results"
           (click)="goToDetail(item)"
           class="card cursor-pointer hover:bg-gray-50">
        <div class="flex justify-between items-start">
            <div>
                <h3 class="text-xl text-gray-800 mb-1">{{ item.name || item.storeName }}</h3>
                <p class="text-gray-500 text-sm">ID: {{ item.id }}</p>
                <div *ngIf="item.email" class="text-gray-500 text-sm mt-2">‚úâÔ∏è {{ item.email }}</div>
                <div *ngIf="item.category" class="text-gray-500 text-sm mt-2">üè∑Ô∏è {{ item.category }}</div>
            </div>
            <span class="badge">{{ selectedResource }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
